(this.webpackJsonpluftmessstationen=this.webpackJsonpluftmessstationen||[]).push([[0],{405:function(e,t,n){},406:function(e,t,n){},732:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(20),s=n.n(r),o=(n(405),n(13)),l=(n(406),n(407),n(408),n(409),n(410),n(23)),d=n(397),u=n(172),c=n(399),f=n(395),h=n(396),v=n(19),b=n.n(v),m=n(38),p=n(9),g=n(164),j=n(18),w=n(4),O="https://wupp-topicmaps-data.cismet.de",x={abgebaut:{color:"#9DBCCC",signature:"Luft_Icon_Messstation_abgebaut_farbig.svg",header:"Messstation f\xfcr NO\u2082 (inaktiv, abmontiert)",title:"abmontiert",filterTitle:"abmontierte"},inaktiv:{color:"#4FAFC5",signature:"Luft_Icon_Messstation_deaktiv_farbig.svg",header:"Messstation f\xfcr NO\u2082 (aktiv, aktuell Messausfall)",title:"inaktiv",filterTitle:"Messstationsausf\xe4lle"},unauffaellig:{color:"#9ACD32",signature:"Luft_Icon_Messstation_unauffaellig_farbig.svg",header:"Messstation f\xfcr NO\u2082 (aktiv, unauff\xe4llig)",title:"unauff\xe4llig",filterTitle:"unauff\xe4llige"},auffaellig:{color:"#FFA500",signature:"Luft_Icon_Messstation_auffaellig_farbig.svg",header:"Messstation f\xfcr NO\u2082 (aktiv, auff\xe4llig)",title:"auff\xe4llig",filterTitle:"auff\xe4llige"},warnend:{color:"#E01414",signature:"Luft_Icon_Messstation_warnend_farbig.svg",header:"Messstation f\xfcr NO\u2082 (aktiv, warnend)",title:"warnend",filterTitle:"warnende"},unknown:{color:"#eeeeee",signature:"Platz.svg",header:"Fehler"}},k=[{name:"Januar",shortname:"Jan."},{name:"Februar",shortname:"Feb."},{name:"M\xe4rz",shortname:"M\xe4r."},{name:"April",shortname:"Apr."},{name:"Mai",shortname:"Mai."},{name:"Juni",shortname:"Jun."},{name:"Juli",shortname:"Jul."},{name:"August",shortname:"Aug."},{name:"September",shortname:"Sep."},{name:"Oktober",shortname:"Okt."},{name:"November",shortname:"Nov."},{name:"Dezember",shortname:"Dez."}],S=Object(w.jsx)("span",{children:"Die Daten dieser Luftmessstation sind im Open-Data-Portal der Stadt Wuppertal verf\xfcgbar:"}),M=[Object(w.jsxs)("div",{children:[S,Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/luftmessstationen-wuppertal-passivsammler",children:"Stammdaten der Luftmessstationen"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/no2-messdaten-wuppertal-passivsammler-2006-und-2007",children:"Messwerte und Jahresmittelwerte 2006/2007"})})]})]}),Object(w.jsxs)("div",{children:[S,Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/luftmessstationen-wuppertal-passivsammler",children:"Stammdaten der Luftmessstationen"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/no2-messdaten-wuppertal-passivsammler-2006-und-2007",children:"Messwerte und Jahresmittelwerte 2006/2007"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/no2-messdaten-wuppertal-passivsammler-ab-2008",children:"NO\u2082-Messwerte seit 2008"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/no2-jahresmittelwerte-wuppertal-passivsammler-ab-2008",children:"Jahresmittelwerte seit 2008"})})]})]}),Object(w.jsxs)("div",{children:[S,Object(w.jsxs)("ul",{children:[Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/luftmessstationen-wuppertal-passivsammler",children:"Stammdaten der Luftmessstationen"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/no2-messdaten-wuppertal-passivsammler-ab-2008",children:"NO\u2082-Messwerte seit 2008"})}),Object(w.jsx)("li",{children:Object(w.jsx)("a",{target:"_opendata",href:"https://offenedaten-wuppertal.de/dataset/no2-jahresmittelwerte-wuppertal-passivsammler-ab-2008",children:"Jahresmittelwerte seit 2008"})})]})]})],y=function(e){var t=null===e||void 0===e?void 0:e.werte;return void 0!==t&&"{}"!==JSON.stringify(t)},z=function(e){var t=D(e);if(t){var n=t.values,i=t.year;return 13===n.length?{value:n[11],monthIndex:11,year:i}:{value:n[n.length-1],monthIndex:n.length-1,year:i}}},D=function(e){var t=function(e){if(y(e)){var t=null===e||void 0===e?void 0:e.werte,n=Object.keys(t).sort();return n[n.length-1]}}(e),n=null===e||void 0===e?void 0:e.werte;if(t)return{values:n[t],year:t}},L=function(e){var t=function(e){if(y(e)){var t=null===e||void 0===e?void 0:e.werte,n=Object.keys(t).sort();if(n.length>1)return n[n.length-2]}}(e),n=null===e||void 0===e?void 0:e.werte;if(t)return n[t]},N=function(e){return void 0!==(null===e||void 0===e?void 0:e.bis)?"abgebaut":"aktiv"},C=function(e){if("aktiv"===N(e)){var t,n=null===(t=z(e))||void 0===t?void 0:t.value;return A(n)}return N(e)},A=function(e){return e>0&&e<=35?"unauffaellig":e>35&&e<=40?"auffaellig":e>40?"warnend":9999===e?"inaktiv":"unknown"},F=function(e){var t=C(e);return x[t].signature},I=function(e){var t=Object.keys(null===e||void 0===e?void 0:e.mittelwerte);t.sort();var n=t.slice(-2),i=(new Date).getFullYear()-2,a=n.filter((function(e){return parseInt(e)>=i})),r="";a.sort((function(e,t){return parseInt(t)-parseInt(e)})),r=0===a.length?"Kein gewichteter Jahresmittelwert aus dem vergangenen Kalenderjahr vorhanden.":1===a.length?"Gewichteter Jahresmittelwert:":"Gewichtete Jahresmittelwerte:";var s,o=Object(p.a)(a);try{for(o.s();!(s=o.n()).done;){var l=s.value;r=r+"\n"+(null===e||void 0===e?void 0:e.mittelwerte[l])+" \xb5g/m\xb3 ("+l+")"}}catch(d){o.e(d)}finally{o.f()}return r},_=function(e){var t=z(e);if(null===e||void 0===e?void 0:e.bis){var n=new Date(null===e||void 0===e?void 0:e.bis);return"Diese Messstation ist seit ".concat(k[n.getMonth()].name," ").concat(n.getFullYear()," abmontiert.")}return t?9999!==t.value?t.value+" \xb5g/m\xb3 ("+k[t.monthIndex].name+" "+t.year+")":"F\xfcr "+k[t.monthIndex].name+" "+t.year+"liefert diese Messstation keinen Messwert":"Diese Messstation ist abmontiert"},P=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,i,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(g.b)(t,(function(e){return"luft/"+F(e)}));case 2:return(n=e.sent).status=C(n),i=(null===n||void 0===n?void 0:n.strasse)+" "+((null===n||void 0===n?void 0:n.hausnummer)||"")+(void 0!==(null===n||void 0===n?void 0:n.zusatzinfo)?" ("+(null===n||void 0===n?void 0:n.zusatzinfo)+")":""),"Feature",!1,a=null===n||void 0===n?void 0:n.geojson,n.color=x[n.status].color,r={header:x[n.status].header,title:_(n),additionalInfo:I(n),subtitle:Object(w.jsxs)("span",{children:[null===n||void 0===n?void 0:n.strasse," ",null===n||void 0===n?void 0:n.hausnummer," ",(null===n||void 0===n?void 0:n.zusatzinfo)&&Object(w.jsxs)("span",{children:["(",null===n||void 0===n?void 0:n.zusatzinfo,")"]})]})},n.info=r,(null===n||void 0===n?void 0:n.bild)&&(n.foto="https://www.wuppertal.de/geoportal/luftmessstationen/fotos/"+n.bild),e.abrupt("return",{text:i,type:"Feature",selected:false,geometry:a,crs:{type:"name",properties:{name:"urn:ogc:def:crs:EPSG::25832"}},properties:n});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=n(45),B=n(6),T=n(21),W=n(121),E=n(226),K=n(118),q=n(398),V=n(236),R=n(233),U=function(){var e=Object(i.useContext)(T.b).setAppMenuActiveMenuSection,t=Object(i.useContext)(j.a),n=t.filterState,a=(t.filterMode,t.filteredItems),r=t.shownFeatures,s=Object(i.useContext)(j.b),o=s.setFilterState,l=(s.setFilterMode,Object(i.useContext)(j.a).items,[]),d=[],u={mode:"list",resetedFilter:{stations:["unauffaellig","auffaellig","warnend","inaktiv","abgebaut"]},filterMode:"gibtnureinen",filters:[{title:"aktive Messstationen",key:"stations",type:"checkBoxes",values:[{keys:["unauffaellig","auffaellig","warnend","inaktiv"],title:"alle aktiven Stationen"},{key:"unauffaellig",indent:30,title:"unauff\xe4llige Stationen",color:x.unauffaellig.color,icon:"square",iconPos:"pre"},{key:"auffaellig",indent:30,title:"auff\xe4llige Stationen",color:x.auffaellig.color,icon:"square",iconPos:"pre"},{key:"warnend",indent:30,title:"warnende Stationen",color:x.warnend.color,icon:"square",iconPos:"pre"},{key:"inaktiv",indent:30,title:"Stationen mit Messausfall",color:x.inaktiv.color,icon:"square",iconPos:"pre"}],setAll:function(){o(Object(B.a)(Object(B.a)({},n),{},{themen:d}))},setNone:function(){o(Object(B.a)(Object(B.a)({},n),{},{themen:[]}))},colorizer:function(e,t){return t?e.color:"#eeeeee"}},{title:"inaktive Messstationen",key:"stations",type:"checkBoxes",values:[{key:"abgebaut",title:"abmontierte Stationen",color:x.abgebaut.color,icon:"square",iconPos:"pre"}],setAll:function(){o(Object(B.a)(Object(B.a)({},n),{},{kategorien:l}))},setNone:function(){o(Object(B.a)(Object(B.a)({},n),{},{kategorien:[]}))}}]};return Object(w.jsx)(E.a,{menuIcon:"bars",menuTitle:"Filter, Einstellungen und Kompaktanleitung",menuIntroduction:Object(w.jsxs)("span",{children:["Benutzen Sie die Auswahlm\xf6glichkeiten unter"," ",Object(w.jsx)(W.Link,{className:"useAClassNameToRenderProperLink",to:"filter",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return e("filter")},children:"Filter"}),", um die in der Karte angezeigten vorbildlichen Luftmessstationen f\xfcr Stickstoffdioxid (NO\u2082) auf die f\xfcr Sie relevanten Stationen zu beschr\xe4nken. \xdcber"," ",Object(w.jsx)(W.Link,{className:"useAClassNameToRenderProperLink",to:"settings",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return e("settings")},children:"Einstellungen"})," ","k\xf6nnen Sie die Darstellung der Hintergrundkarte und der Stationen an Ihre Vorlieben anpassen. W\xe4hlen Sie die"," ",Object(w.jsx)(W.Link,{className:"useAClassNameToRenderProperLink",to:"help",containerId:"myMenu",smooth:!0,delay:100,onClick:function(){return e("help")},children:"Kompaktanleitung"})," ","f\xfcr detailliertere Bedienungsinformationen."]}),menuSections:[Object(w.jsx)(K.a,{sectionKey:"filter",sectionTitle:function(){var e,t=(null===a||void 0===a?void 0:a.length)||0;return e=1===t?"Standort":"Standorte","Messstationen der Luftqualit\xe4t (".concat(t," ").concat(e," gefunden, davon ").concat((null===r||void 0===r?void 0:r.length)||"0"," in der Karte)")}(),sectionBsStyle:"primary",sectionContent:Object(w.jsx)(q.a,{filterConfiguration:u})},"filter"),Object(w.jsx)(V.a,{previewMapPosition:"lat=51.2607860760692&lng=7.164304562911684&title&zoom=9",previewMapClusteringOptions:void 0},"settings"),Object(w.jsx)(K.a,{sectionKey:"help",sectionTitle:"Kompaktanleitung",sectionBsStyle:"default",sectionContent:Object(w.jsx)(R.a,{configs:Object(J.d)("Luftmessstationskarte Wuppertal",{content:"Die Stadt Wuppertal f\xfchrt seit vielen Jahren Messungen und Kartierungen durch,\num Aufschl\xfcsse \xfcber die Luftbelastungssituation zu erhalten. Diese Erkenntnisse werden \nf\xfcr Ma\xdfnahmen zur Luftreinhaltung und die Stadtentwicklung genutzt. Einer der derzeit \nam meisten diskutierte Luftschadstoff ist Stickstoffdioxid (NO\u2082). Dieser wird als \nReizgas mit stechend-stickigem Geruch bereits in geringen Konzentrationen wahrgenommen. \nDie Inhalation ist f\xfcr den Menschen der einzig relevante Aufnahmeweg. \n   \nDie europ\xe4ische Union hat f\xfcr ihre Mitgliedsstaaten mit mehreren Luftqualit\xe4tsrichtlinien\nverbindliche Luftqualit\xe4tsziele zur Vermeidung oder Verringerung sch\xe4dlicher Auswirkungen\nauf die menschliche Gesundheit und die Umwelt festgelegt. Danach wird die Luftqualit\xe4t\nin den Staaten der EU nach einheitlichen Methoden und Kriterien beurteilt. In der\nBundesrepublik Deutschland wurden diese Richtlinien durch Novellierung des\nBundes-Immissions\xadschutzgesetzes (BImSchG) sowie durch die Einf\xfchrung der 39. Verordnung\nzum BImSchG (39. BImSchV) in deutsches Recht umgesetzt. F\xfcr Stickstoffdioxid (NO\u2082) gilt\nseit dem Jahr 2010 ein Jahresmittelwert f\xfcr NO\u2082 von 40 \xb5g pro Kubikmeter Luft. Die\nMessungen von Stickstoffdioxid (NO\u2082) werden in Wuppertal mit sogenannten Passivsammlern\ndurchgef\xfchrt und nahezu monatlich abgelesen.\n  \nDie Luftmessstationskarte zeigt die Positionen dieser Passivsammler im Wuppertaler Stadtgebiet,\nwelche in den vergangenen zehn Jahren Messwerte lieferten. Die farbigen Signaturen in der\nKarte beziehen sich dabei auf den zuletzt verf\xfcgbaren monatlichen NO\u2082-Messwert: unauff\xe4llig\ngr\xfcn (\u2266 35 mg/m\xb3), auff\xe4llig gelb (> 35 \xb5g/m\xb3) und warnend rot (> 40 \xb5g/m\xb3). Die Signaturen\nf\xfcr Passivsammler, welche bei der letzten monatlichen Ablesung keinen Messwert geliefert\nhaben, sind t\xfcrkis eingef\xe4rbt (tempor\xe4rer Ausfall). Wenn eine Messstation in den letzten\nzehn Jahren abgebaut wurde und damit keine weiteren NO\u2082-Messwerte liefert, liegt eine\nblaugraue Signatur vor. \n\nEin Passivsammler ist ein kleines mit Adsorbermaterial gef\xfclltes R\xf6hrchen, welches ohne Pumpe \n(ohne aktive Probenahme) Schadstoffe aus der Luft \xfcber die nat\xfcrliche Ausbreitung und Verteilung \n(Diffusion) aufnehmen und anreichern kann. Zur Verringerung von wind- und turbulenzbedingten \nEinfl\xfcssen befindet sich an der offenen Seite des Probeentnahmer\xf6hrchens eine Glasfritte. \nZum Schutz vor Witterungseinfl\xfcssen werden die Sammler in einem nach unten ge\xf6ffneten Geh\xe4use \neingeh\xe4ngt und exponiert.\n\n<div style=\"text-align:center\">\n<img width=\"50%\" src=\"https://topicmaps-wuppertal.github.io/luftmessstationen/img/passivsammler.jpg\" />\n</div>\n\n_Beispiel f\xfcr einen [Passivsammler](https://www.lanuv.nrw.de/fileadmin/lanuv/luft/gifs/no2_gr.jpg); \nBildquelle: Landesamt f\xfcr Natur- Umwelt und Verbraucherschutz NRW ([LANUV](https://www.lanuv.nrw.de/impressum))._\n\nDie Funktionsweise eines Passivsammlers basiert auf der Anreicherung von Stickstoffdioxid (NO\u2082) an einem \ngeeigneten Adsorbens ohne aktive Probennahme. Das Probeentnahmesystem besteht aus einem Kunststoffr\xf6hrchen, \nan dessen einem Ende sich ein mit Triethanolamin impr\xe4gniertes Edelstahl-Drahtsieb als Adsorbens befindet. \nDas in der Au\xdfenluft enthaltene NO\u2082 wird durch Diffusion zu diesem Adsorbens transportiert und dort adsorbiert. \nDie R\xf6hrchen bzw. die Stickstoffdioxidmenge werden anschlie\xdfend im Labor als Nitrit, z.B. mittels Fotometrie, \nanalysiert. Aus der Analytmenge, dem Expositionszeitraum und der Sammelrate wird die mittlere Konzentration \nim Expositionszeitraum berechnet. Typische Expositionszeitr\xe4ume liegen im Bereich von zwei bis sechs Wochen.\n\nF\xfcr die in Wuppertal durchgef\xfchrten Messungen wurden Expositions- bzw. Messzeitr\xe4ume von etwa vier Wochen \nrealisiert, um eine Auswertung auf Monatsmittelwertbasis zu erm\xf6glichen. Der vorliegende Messwert beschreibt \ndie mittlere Konzentration im Expositionsraum. Nach etwa vier Wochen erfolgt an den Wuppertaler Messstationen \nder Probeentnahmewechsel durch ein beauftragtes Unternehmen. Nach dem Wechsel werden die Proben im Labor \nanalysiert. Die Messergebnisse liegen ca. 2-3 Wochen nach dem Wechsel vor; m\xf6gliche Verz\xf6gerungen bei der \nDatenlieferung treten selten auf. Nach Vorliegen der Daten werden diese seitens der Stadt Wuppertal auf \nPlausibilit\xe4t gepr\xfcft. Die Daten werden sp\xe4testens eine Woche nach Erhalt in das Fachsystem \xfcbernommen. \nEs ergibt sich daraus eine maximale Verz\xf6gerung hinsichtlich des Zeitpunkts der Ver\xf6ffentlichung der \nNO\u2082-Messwerte von ca. vier Wochen.\n\nDie Daten zu den Luftmessstationen (Passivsammler f\xfcr NO\u2082) seit dem Jahr 2006 sind im Open-Data-Angebot \nder Stadt Wuppertal verf\xfcgbar. Diese werden in vier separaten Datenquellen publiziert:\n<ul>\n  <li>\n    <a\n      target='_opendata'\n      href='https://offenedaten-wuppertal.de/dataset/luftmessstationen-wuppertal-passivsammler'\n    >\n      Stammdaten der Luftmessstationen\n    </a>\n  </li>\n  <li>\n    <a\n      target='_opendata'\n      href='https://offenedaten-wuppertal.de/dataset/no2-messdaten-wuppertal-passivsammler-ab-2008'\n    >\n      Messdaten (Monatsmittelwerte) seit dem Jahr 2008\n    </a>\n  </li>\n  <li>\n    <a\n      target='_opendata'\n      href='https://offenedaten-wuppertal.de/dataset/no2-jahresmittelwerte-wuppertal-passivsammler-ab-2008'\n    >\n      Jahresmittelwerte seit dem Jahr 2008\n    </a>\n  </li>\n  <li>\n    <a\n      target='_opendata'\n      href='https://offenedaten-wuppertal.de/dataset/no2-messdaten-wuppertal-passivsammler-2006-und-2007'\n    >\n      Messdaten der Jahre 2006 und 2007\n    </a>\n  </li>\n</ul>\n"})})},"help")]})},G=n(100),Z=n(47),H=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Z.b)("MapData",O+"/data/umweltzonen.json");case 2:n=e.sent,t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(i.useContext)(l.a).location;return Object(i.useEffect)((function(){H(a)}),[]),Object(w.jsx)(G.a,{featureCollection:n,style:function(e){return{color:"#155317",weight:3,opacity:.5,fillColor:"#155317",fillOpacity:.15}},labeler:function(e){if(((null===r||void 0===r?void 0:r.zoom)||8)>7)return Object(w.jsx)("h3",{style:{color:"#155317",opacity:.7,textShadow:"1px 1px 0px  #000000,-1px 1px 0px  #000000, 1px -1px 0px  #000000, -1px -1px 0px  #000000, 2px 2px 15px #000000"},children:"Umweltzone"})},featureClickHandler:function(){}},"ds")},Q=function(e){var t=e.filterState;return function(e){var n;return null===t||void 0===t||null===(n=t.stations)||void 0===n?void 0:n.includes(C(e))}},X=n(219),$=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,i,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="GazData",i={},e.next=4,Object(Z.c)(n,O+"/data/adressen.json");case 4:return i.adressen=e.sent,e.next=7,Object(Z.c)(n,O+"/data/bezirke.json");case 7:return i.bezirke=e.sent,e.next=10,Object(Z.c)(n,O+"/data/quartiere.json");case 10:return i.quartiere=e.sent,e.next=13,Object(Z.c)(n,O+"/data/pois.json");case 13:return i.pois=e.sent,e.next=16,Object(Z.c)(n,O+"/data/kitas.json");case 16:return i.kitas=e.sent,e.next=19,Object(Z.c)(n,O+"/data/no2.json");case 19:i.no2=e.sent,a=Object(X.b)(i,["no2","pois","kitas","bezirke","quartiere","adressen"]),t(a);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ee=n(120),te=function(e){var t,n,i=e.featureCollectionContext;console.log("featureCollectionContext?.filterState?",null===i||void 0===i?void 0:i.filterState);var a="?";if((null===i||void 0===i||null===(t=i.filteredItems)||void 0===t?void 0:t.length)===(null===i||void 0===i||null===(n=i.items)||void 0===n?void 0:n.length))a=void 0;else{var r,s=Object(ee.a)(null===i||void 0===i||null===(r=i.filterState)||void 0===r?void 0:r.stations);if(s.sort(),s.sort((function(e,t){return e<t||"inaktiv"===e?-1:e>t||"inaktiv"===t?1:0})),console.log("yyy stationsArten",s),s.includes("unauffaellig")&&s.includes("auffaellig")&&s.includes("warnend")&&s.includes("inaktiv"))a="nur aktive Messstationen";else if(1!==s.length||s.includes("inaktiv"))if(1===s.length)a="nur ".concat(x[s[0]].filterTitle);else{var o,l=[],d=Object(p.a)(s);try{for(d.s();!(o=d.n()).done;){var u=o.value;l.push(x[u].filterTitle)}}catch(c){d.e(c)}finally{d.f()}a="nur ".concat(l.slice(0,l.length-1).join(", ")," und ").concat(l[l.length-1]," Messstationen")}else a="nur ".concat(x[s[0]].filterTitle," Messstationen")}return a?Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Meine Messstationen der Luftqualit\xe4t:"})," ",a]}):void 0},ne=n(282),ie=n(400),ae=n(170),re=n.n(ae),se=n(124),oe=n(46),le=n.n(oe),de=n(10),ue=n(24);se.c.addAdapter(re.a);var ce=function(){var e=Object(i.useContext)(j.a),t=e.selectedFeature,n=(e.items,Object(i.useContext)(ue.a).windowSize),a=null===t||void 0===t?void 0:t.properties;if(void 0!==a){var r=null===a||void 0===a?void 0:a.foto,s=void 0;void 0!==r&&(s=250);for(var o,l=0,d=0,u=JSON.parse(JSON.stringify(null===a||void 0===a?void 0:a.mittelwerte)),c=[],f=[],h=[],v=[],b=0,m=Object.keys(a.werte);b<m.length;b++)for(var g=m[b],O=a.werte[g],S=0;S<Math.min(O.length,12);++S)-9999===O[S]?d++:l++;if((null===a||void 0===a?void 0:a.werte)&&Object.keys(null===a||void 0===a?void 0:a.werte).length>0){var y=D(a),z=y.values,N=y.year,C=L(a),F=[];if(C){var I,_=0,P=Object(p.a)(C);try{for(P.s();!(I=P.n()).done;){var J=I.value;F.push({year:N-1,index:_,value:J}),_++}}catch(ve){P.e(ve)}finally{P.f()}}if(z){var B,T=0,W=Object(p.a)(z);try{for(W.s();!(B=W.n()).done;){var E=B.value;F.push({year:N,index:T,value:E}),T++}}catch(ve){W.e(ve)}finally{W.f()}}o=F.slice(Math.max(F.length-12,0));for(var K=Object.keys(a.werte),q=(new Date).getFullYear(),V=0,R=K;V<R.length;V++){var U=R[V];U<q-11&&delete u[U]}var G,Z=Object(p.a)(o);try{for(Z.s();!(G=Z.n()).done;){var H=G.value,Y=H.year+" "+k[H.index].shortname;-9999!==H.value?(c.push([Y,H.value]),f.push(new le.a(x[A(H.value)].color).fade(.5))):(c.push([Y,null]),f.push(null))}}catch(ve){Z.e(ve)}finally{Z.f()}for(var Q=0,X=Object.keys(u);Q<X.length;Q++){var $=X[Q];h.push([$,u[$]]),v.push(new le.a(x[A(u[$])].color).fade(.5))}for(var ee=0,te=Object.keys(u);ee<te.length;ee++){var ae=te[ee];h.push([ae,u[ae]])}}var oe=[],ce=Object(w.jsxs)("div",{style:{fontSize:"90%",textAlign:"center"},children:[Object(w.jsxs)("div",{children:[Object(w.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[Object(w.jsx)(de.a,{style:{color:x.unauffaellig.color},name:"square"})," unauff\xe4llig"," ","(\u2266 35)"]}),Object(w.jsxs)("span",{style:{whiteSpace:"nowrap",marginLeft:10,marginRight:10},children:[Object(w.jsx)(de.a,{style:{color:x.auffaellig.color},name:"square"})," auff\xe4llig ","(> 35)"]}),(null===n||void 0===n?void 0:n.width)<463&&Object(w.jsx)("br",{}),Object(w.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[Object(w.jsx)(de.a,{style:{color:x.warnend.color},name:"square"})," warnend ","(> 40)"]})]}),Object(w.jsx)("div",{style:{fontSize:"80%"},children:" Messwerte in \xb5g/m\xb3"})]});void 0===(null===a||void 0===a?void 0:a.bis)&&oe.push(Object(w.jsx)(ne.a,{bsStyle:"info",header:"NO\u2082-Messwerte der letzten 12 Monate",children:Object(w.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[ce,Object(w.jsx)(se.a,{data:[{data:c,library:{backgroundColor:f,borderColor:f,hoverBackgroundColor:f,hoverBorderColor:f,legend:{display:!1,labels:{fontColor:"rgb(255, 99, 132)"}}}}]})]})},"last12")),re.a.defaults.global.legend.display=!1,Object.keys(h).length>0&&oe.push(Object(w.jsx)(ne.a,{bsStyle:"warning",header:"NO\u2082-Jahresmittelwerte der letzten zehn Kalenderjahre",children:Object(w.jsxs)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:[ce,Object(w.jsx)(se.a,{data:[{data:h,library:{backgroundColor:v,borderColor:v,hoverBackgroundColor:v,hoverBorderColor:v}}]})]})},"average10"));var fe,he=new Date("2008-01-01");return fe=new Date(null===a||void 0===a?void 0:a.bis)<he?Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Stationsaktivit\xe4t:"}),Object(w.jsxs)("p",{children:["Von ",new Date(null===a||void 0===a?void 0:a.von).toLocaleDateString()," bis"," ",new Date(null===a||void 0===a?void 0:a.bis).toLocaleDateString()," generierte diese Station NO\u2082-Messwerte.",M[0]]})]}):new Date(null===a||void 0===a?void 0:a.von)<he&&new Date(null===a||void 0===a?void 0:a.bis)>=he?Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Stationsaktivit\xe4t:"}),Object(w.jsxs)("p",{children:["Von ",new Date(null===a||void 0===a?void 0:a.von).toLocaleDateString()," bis"," ",new Date(null===a||void 0===a?void 0:a.bis).toLocaleDateString()," generierte diese Station insgesamt"," ",l," NO\u2082-Messwerte (Ausf\xe4lle und Messwerte vor 1.1.2008 nicht ber\xfccksichtigt).",M[1]]})]}):new Date(null===a||void 0===a?void 0:a.von)>=he&&void 0!==(null===a||void 0===a?void 0:a.bis)?Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Stationsaktivit\xe4t:"}),Object(w.jsxs)("p",{children:["Von ",new Date(null===a||void 0===a?void 0:a.von).toLocaleDateString()," bis"," ",new Date(null===a||void 0===a?void 0:a.bis).toLocaleDateString()," generierte diese Station insgesamt"," ",l," NO\u2082-Messwerte (Ausf\xe4lle nicht ber\xfccksichtigt).",M[2]]}),Object(w.jsx)("b",{children:"Messausf\xe4lle:"}),d>0&&Object(w.jsxs)("p",{children:["Diese Messstation generierte an ",d," ",1===d?"Monat":"Monaten"," einen Messausfall. Damit besitzt sie eine Zuverl\xe4ssigkeit von"," ",Math.round(l/(l+d)*1e3)/10,"%."]}),0===d&&Object(w.jsx)("p",{children:"Diese Messstation lieferte in jedem Monat der Stationsaktivit\xe4t einen NO\u2082-Messwert. Damit liegt bisher kein Messausfall vor."})]}):new Date(null===a||void 0===a?void 0:a.von)<he&&void 0===(null===a||void 0===a?void 0:a.bis)?Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Stationsaktivit\xe4t:"}),void 0!==(null===a||void 0===a?void 0:a.bis)&&Object(w.jsxs)("p",{children:["Von ",new Date(null===a||void 0===a?void 0:a.von).toLocaleDateString()," bis"," ",new Date(null===a||void 0===a?void 0:a.bis).toLocaleDateString()," generierte diese Station insgesamt"," ",l," NO\u2082-Messwerte (Ausf\xe4lle nicht ber\xfccksichtigt)."]}),void 0===(null===a||void 0===a?void 0:a.bis)&&Object(w.jsxs)("p",{children:["Seit ",new Date(null===a||void 0===a?void 0:a.von).toLocaleDateString()," generierte diese Station"," ",l," NO\u2082-Messwerte (Ausf\xe4lle und Messwerte vor 1.1.2008 nicht ber\xfccksichtigt)."]}),M[1]]}):Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Stationsaktivit\xe4t:"}),void 0!==(null===a||void 0===a?void 0:a.bis)&&Object(w.jsxs)("p",{children:["Von ",new Date(null===a||void 0===a?void 0:a.von).toLocaleDateString()," bis"," ",new Date(null===a||void 0===a?void 0:a.bis).toLocaleDateString()," generierte diese Station insgesamt"," ",l," NO\u2082-Messwerte (Ausf\xe4lle nicht ber\xfccksichtigt)."]}),void 0===(null===a||void 0===a?void 0:a.bis)&&Object(w.jsxs)("p",{children:["Seit ",new Date(null===a||void 0===a?void 0:a.von).toLocaleDateString()," generierte diese Station"," ",l," NO\u2082-Messwerte (Ausf\xe4lle nicht ber\xfccksichtigt)."]}),Object(w.jsx)("b",{children:"Messausf\xe4lle:"}),d>0&&Object(w.jsxs)("p",{children:["Diese Messstation generierte an ",d," ",1===d?"Monat":"Monaten"," einen Messausfall. Damit besitzt sie eine Zuverl\xe4ssigkeit von"," ",Math.round(l/(l+d)*1e3)/10,"%."]}),0===d&&Object(w.jsx)("p",{children:"Diese Messstation lieferte in jedem Monat der Stationsaktivit\xe4t einen NO\u2082-Messwert. Damit liegt bisher kein Messausfall vor."}),M[1]]}),Object(w.jsx)(ie.a,{titleIconName:"info-circle",title:"Datenblatt: Messstation f\xfcr Stickstoffdioxid (NO\u2082)",mainSection:Object(w.jsxs)("div",{style:{width:"100%",minHeight:s},children:[void 0!==r&&Object(w.jsx)("div",{style:{textAlign:"center",float:(null===n||void 0===n?void 0:n.width)<500?void 0:"right"},children:Object(w.jsx)("img",{alt:"Bild",style:{paddingLeft:10,paddingRight:10,horizontalAlignment:"center",paddingBottom:"5px"},src:r,width:"250"})}),Object(w.jsx)("div",{style:{fontSize:"115%",padding:"10px",paddingTop:"0px"},children:Object(w.jsxs)("div",{children:[Object(w.jsx)("b",{children:"Adresse:"}),Object(w.jsxs)("p",{children:[null===a||void 0===a?void 0:a.strasse," ",null===a||void 0===a?void 0:a.hausnummer," ",(null===a||void 0===a?void 0:a.zusatzinfo)&&Object(w.jsxs)("span",{children:["(",null===a||void 0===a?void 0:a.zusatzinfo,")"]})]}),fe]})})]}),subSections:oe})}return null};var fe=function(){var e=Object(i.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(i.useEffect)((function(){$(a),document.title="Luftmessstationskarte Wuppertal"}),[]),Object(w.jsx)(l.c,{appKey:"LuftmessstationenWuppertal.TopicMap",featureItemsURL:"https://wupp-topicmaps-data.cismet.de/data/no2.data.json",referenceSystemDefinition:G.b.proj4crs25832def,getFeatureStyler:f.a,featureTooltipFunction:function(e){return null===e||void 0===e?void 0:e.text},convertItemToFeature:P,clusteringOptions:{iconCreateFunction:Object(J.c)(30,(function(e){return e.color}))},additionalLayerConfiguration:{uwz:{title:"Umweltzone",initialActive:!0,layer:Object(w.jsx)(Y,{})}},filterState:{stations:["unauffaellig","auffaellig","warnend","inaktiv","abgebaut"]},titleFactory:te,itemFilterFunction:Q,classKeyFunction:function(e){return x[C(e)].title},getColorFromProperties:function(e){return x[C(e)].color},children:Object(w.jsxs)(d.a,{locatorControl:!0,gazData:n,modalMenu:Object(w.jsx)(U,{}),gazetteerSearchPlaceholder:"Stadtteil | Adresse | POI",infoBox:Object(w.jsx)(c.a,{pixelwidth:350,config:{displaySecondaryInfoAction:!0,city:"Wuppertal",navigator:{noun:{singular:"Messstation",plural:"Messstationen"}},noCurrentFeatureTitle:"Keine Messtationen gefunden",noCurrentFeatureContent:""}}),secondaryInfo:Object(w.jsx)(ce,{}),children:[Object(w.jsx)(h.a,{title:"R\xfcckfrage zu den Messwerten",action:function(){var e=document.createElement("a");e.setAttribute("type","hidden");var t="\n",n="mailto:luftreinhaltung@stadt.wuppertal.de?subject=R\xfcckfrage zu Messwerten&body="+encodeURI("Sehr geehrte Damen und Herren,".concat(t).concat(t," zu der Luftmessstationskarte "))+encodeURI("auf".concat(t).concat(t))+"".concat(window.location.href.replace(/&/g,"%26").replace(/#/g,"%23"))+encodeURI("".concat(t)+"".concat(t)+"habe ich folgende Frage:".concat(t)+"".concat(t).concat(t).concat(t).concat(t)+"Mit freundlichen Gr\xfc\xdfen".concat(t)+"".concat(t)+"".concat(t));document.body.appendChild(e),e.href=n,e.click()}}),Object(w.jsx)(u.a,{})]})})},he=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,738)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),i(e),a(e),r(e),s(e)}))};s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(fe,{})}),document.getElementById("root")),he()}},[[732,1,2]]]);
//# sourceMappingURL=main.9968c16c.chunk.js.map